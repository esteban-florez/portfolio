---
import { getImage } from 'astro:assets'
import Dialog from '../Dialog.astro'
import Icon from '../Icon.astro'
import bgImage from '../../images/bg-code.jpg'

const bg = await getImage({
  src: bgImage,
  format: 'webp',
  widths: [425, 768, 1024, 1280, 1536, bgImage.width],
})

const sets = bg.srcSet.values
const vars = {
  'bg-sm': `url("${sets[0].url}")`,
  'bg-md': `url("${sets[1].url}")`,
  'bg-lg': `url("${sets[2].url}")`,
  'bg-xl': `url("${sets[3].url}")`,
  'bg-2xl': `url("${sets[4].url}")`,
  'bg-3xl': `url("${sets[5].url}")`,
}
---

<footer class="bg-cover bg-center w-full" id="contacto">
  <div class="bg-slate-950/80 w-full">
    <div class="container px-4 py-16 md:px-10 md:pt-20 mx-auto">
      <h2 class="text-gradient text-3xl md:text-4xl font-bold text-center">
        ¿Estás interesado en mi trabajo? ¡Contáctame!
      </h2>
      <p class="mt-4 text-center max-w-xl mx-auto">
        Estoy abierto a <span class="text-slate-200">nuevos proyectos</span> y <span class="text-slate-200">oportunidades laborales</span>. Puedes contactarme por <span class="text-slate-200">correo eletrónico</span>, por <span class="text-slate-200">teléfono</span>, o mediante <span class="text-slate-200">LinkedIn</span>. 
      </p>
      <div class="flex flex-col md:flex-row justify-center items-center gap-2 mt-4">
        <button class="bg-gradient text-slate-800 px-3 py-2 rounded-lg hover:brightness-90 transition-all flex items-center gap-1" data-dialog="contact-info">
          <Icon id="messages" class="h-5" />
          Info. de contacto
        </button>
        <button class="bg-slate-300 text-slate-800 px-3 py-2 rounded-lg hover:brightness-90 transition-all flex items-center gap-1">
          <Icon id="download" class="h-5" />
          Ver currículum
        </button>
      </div>
    </div>
  </div>
</footer>
<Dialog class="rounded-2xl" id="contact-info">
  <div class="bg-slate-900 text-slate-400 p-4 rounded-lg relative">
    <h4 class="text-xl font-bold text-slate-200 text-center">Contacto</h4>
    <p class="mt-4">Teléfono:</p>
    <p class="text-green-400 font-bold">+58 412-8970019</p>
    <p class="mt-4">Correo eletrónico:</p>
    <p class="text-green-400 font-bold">eflorez077@gmail.com</p>
    <div class="flex items-center gap-2 mt-4">
      <a class="bg-gradient text-slate-800 px-3 py-2 rounded-lg hover:brightness-90 transition-all flex items-center gap-2" href="https://www.linkedin.com/in/esteban-florez-b210a5283" target="_blank" rel="noopener noreferrer">
        <Icon id="linkedin" class="h-6" />
        LinkedIn
      </a>
      <a class="bg-gradient text-slate-800 px-3 py-2 rounded-lg hover:brightness-90 transition-all flex items-center gap-2" href="https://wa.me/584128970019" target="_blank" rel="noopener noreferrer">
        <Icon id="whatsapp" class="h-6" />
        WhatsApp
      </a>
      <button class="grid place-items-center absolute top-2 right-2 outline-none rounded-full group opacity-100 transition-opacity duration-1000" type="button" data-dismiss="contact-info">
        <Icon id="close" class="rounded-full w-5 h-5 text-slate-200 group-hover:text-slate-100" />
      </button>
    </div>
  </div>
</Dialog>
<style define:vars={vars}>
  footer {
    background-image: var(--bg-sm);
  }

  @media (min-width: 768px) {
    footer {
      background-image: var(--bg-md);
    }
  }

  @media (min-width: 1024px) {
    footer {
      background-image: var(--bg-lg);
    }
  }

  @media (min-width: 1280px) {
    footer {
      background-image: var(--bg-xl);
    }
  }

  @media (min-width: 1536px) {
    footer {
      background-image: var(--bg-2xl);
    }
  }

  @media (min-width: 1920px) {
    footer {
      background-image: var(--bg-3xl);
    }
  }
</style>
